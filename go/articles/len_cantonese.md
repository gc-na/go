<!--
Meta Description: # Go 語言中的 `len` 函數：用法及示例 ## 摘要 在 Go 語言中，`len` 是一個內建函數，用於返回數組、切片、字串或映射的長度。它是處理數據結構時的一個基本工具，對於開發者來說至關重要。 ## 文檔 `len` 函數的主要目的是幫助開發者快速獲取某些數據結構的元素數量。其基本語法如...
Meta Keywords: len, fmt, println, slice, int
-->

# Go 語言中的 `len` 函數：用法及示例

## 摘要
在 Go 語言中，`len` 是一個內建函數，用於返回數組、切片、字串或映射的長度。它是處理數據結構時的一個基本工具，對於開發者來說至關重要。

## 文檔
`len` 函數的主要目的是幫助開發者快速獲取某些數據結構的元素數量。其基本語法如下：

```go
len(v)
```

其中，`v` 可以是以下類型之一：
- 數組（Array）
- 切片（Slice）
- 字串（String）
- 映射（Map）

### 用法
- **數組**：獲取數組中元素的數量。
- **切片**：獲取切片中元素的數量。
- **字串**：獲取字串中字符的數量（以字節計算）。
- **映射**：獲取映射中鍵值對的數量。

在使用 `len` 時，需要注意的是，對於字串返回的長度是以字節計算的，而不是以字符計算的，這在處理 Unicode 字符時特別重要。

## 示例
以下是 `len` 函數的一些基本使用示例：

```go
package main

import (
	"fmt"
)

func main() {
	// 數組示例
	arr := [3]int{1, 2, 3}
	fmt.Println("數組長度:", len(arr)) // 輸出: 3

	// 切片示例
	slice := []int{4, 5, 6}
	fmt.Println("切片長度:", len(slice)) // 輸出: 3

	// 字串示例
	str := "Hello"
	fmt.Println("字串長度:", len(str)) // 輸出: 5

	// 映射示例
	m := map[string]int{"a": 1, "b": 2}
	fmt.Println("映射長度:", len(m)) // 輸出: 2
}
```

## 解釋
雖然 `len` 函數使用簡單，但在某些情況下可能會遇到一些常見的陷阱：

1. **Unicode 字符**：對於包含非 ASCII 字符的字串，`len` 返回的長度是字節數，而非字符數。這意味著某些字符可能佔用多於一個字節，例如中文字符。
   
2. **映射的長度**：在使用映射時，確保映射已經被初始化。對於未初始化的映射，使用 `len` 會返回 0。

3. **切片和數組**：切片的長度可能會隨著其底層數組的變化而變化，這點需要特別注意。

## 一句總結
`len` 是 Go 語言中一個用於獲取數組、切片、字串及映射長度的內建函數，操作簡單而強大。