<!--
Meta Description: # Go言語における「range」: 効率的な反復処理のためのキーワード ## 概要 Go言語における「range」は、スライス、マップ、配列、チャネルなどのコレクションを効率的に反復処理するための構文です。このキーワードを使用することで、要素へのアクセスやインデックスの取得が簡単に行えます。 ##...
Meta Keywords: range, fmt, value, println, マップ
-->

# Go言語における「range」: 効率的な反復処理のためのキーワード

## 概要
Go言語における「range」は、スライス、マップ、配列、チャネルなどのコレクションを効率的に反復処理するための構文です。このキーワードを使用することで、要素へのアクセスやインデックスの取得が簡単に行えます。

## ドキュメンテーション
「range」は、Goの`for`ループと組み合わせて使用されます。基本的な構文は以下の通りです。

```go
for key, value := range collection {
    // 処理
}
```

### 目的
「range」を使用することで、コレクションの各要素に対して簡潔に処理を行うことができます。特に、大規模なデータ構造の操作を行う際に、コードの可読性と保守性を向上させることができます。

### 使用法
- **スライスや配列**: インデックスと要素にアクセス可能です。
- **マップ**: キーと値にアクセス可能です。
- **チャネル**: 受信した値を処理します。

### 詳細
- **スライスの例**:
  ```go
  nums := []int{1, 2, 3}
  for i, num := range nums {
      fmt.Println(i, num)
  }
  ```
- **マップの例**:
  ```go
  m := map[string]int{"a": 1, "b": 2}
  for key, value := range m {
      fmt.Println(key, value)
  }
  ```
- **チャネルの例**:
  ```go
  ch := make(chan int)
  go func() {
      for i := 0; i < 5; i++ {
          ch <- i
      }
      close(ch)
  }()
  for val := range ch {
      fmt.Println(val)
  }
  ```

## 例
以下の例は、スライスを使用した「range」の基本的な使い方を示しています。

```go
package main

import (
    "fmt"
)

func main() {
    fruits := []string{"apple", "banana", "cherry"}
    for index, fruit := range fruits {
        fmt.Printf("インデックス: %d, フルーツ: %s\n", index, fruit)
    }
}
```

## 説明
「range」を使用する際の一般的な落とし穴や注意点は以下のとおりです。

1. **値のコピー**: スライスや配列の要素は値として渡されるため、大きな構造体を反復処理する際は、ポインタを使用した方が効率的です。
2. **無名変数**: 不要な変数を受け取る場合は、アンダースコア `_` を使用して無視できます。
   ```go
   for _, value := range m {
       fmt.Println(value) // keyを無視
   }
   ```
3. **ループの範囲**: マップの反復は順序が保証されていないため、順序を気にする場合は別の手段を検討する必要があります。

## 一文要約
Go言語の「range」は、スライス、マップ、配列、チャネルを簡潔に反復処理するための強力なキーワードです。